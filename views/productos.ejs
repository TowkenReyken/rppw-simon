<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productos | Supermercado Simón</title>
  <link rel="stylesheet" href="/css/productos.css">
</head>
<body>
  <%- include('partials/header') %>

  <section class="productos-container">
    <h1>Nuestros Productos</h1>
    <button class="btn-agregar" onclick="abrirFormulario()">Agregar Producto</button>
    
    <div class="productos-grid">
      <% productos.forEach(producto => { %>
        <div class="producto-card">
          <img src="<%= producto.imagen %>" alt="<%= producto.nombre %>">
          <h3><%= producto.nombre %></h3>
          <p class="precio">Precio: $<%= (producto.precio - (producto.precio * (producto.descuento / 100))).toFixed(2) %></p>
          <p class="categoria">Categoría: <%= producto.categoria %></p>
        </div>
      <% }) %>
    </div>
  </section>

<!-- Modal para agregar producto -->
<div id="modalProducto" class="modal">
  <div class="modal-content">
    <span class="close" onclick="cerrarFormulario()">&times;</span>
    <h2>Agregar Producto</h2>
    <form id="formProducto">
      <label for="nombre">Nombre del producto:</label>
      <input type="text" id="nombre" placeholder="Ej: Arroz Premium" required>

      <label for="precio">Precio:</label>
      <input type="number" id="precio" placeholder="Ej: 350" required>

      <label for="descuento">Descuento (%):</label>
      <input type="number" id="descuento" value="0" placeholder="Ej: 10">

      <label for="stock">Stock:</label>
      <input type="number" id="stock" placeholder="Ej: 50" required>

      <label for="categoria">Categoría:</label>
      <select id="categoria" required>
        <!-- Las opciones se llenarán dinámicamente desde la base de datos -->
      </select>

      <label for="imagen">Imagen (URL):</label>
      <input type="text" id="imagen" placeholder="Ej: https://example.com/imagen.jpg" required>

      <button type="submit" class="btn-guardar">Guardar</button>
    </form>
  </div>
</div>

  <%- include('partials/footer') %>

  <script src="/js/productos.js"></script>
</body>
</html>